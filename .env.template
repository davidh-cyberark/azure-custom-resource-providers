# =============================================================================
# CyberArk Custom Provider Configuration Template
# =============================================================================
#
# Copy this file to .env and fill in your specific values.
#
# To deploy the infrastructure and application:
# 1. Copy this template: cp .env.template .env
# 2. Edit .env with your specific values
# 3. Run: ./setup-azure-infrastructure.sh
#
# IMPORTANT: Never commit .env files to version control!
# Add .env to your .gitignore file.
#
# =============================================================================

# =============================================================================
# AZURE CONFIGURATION
# =============================================================================

# Azure region where resources will be deployed
# Common options: eastus, westus2, centralus, westeurope, etc.
LOCATION="eastus"

# Name of the Azure resource group (will be created if it doesn't exist)
# Use a descriptive name that identifies your project/environment
RESOURCE_GROUP="your-resource-group"

# Environment name (used for resource naming and tagging)
# Common values: dev, test, staging, prod
ENVIRONMENT="dev"

# Project name (used for resource naming and tagging)
PROJECT_NAME="cyberarkcp"

# Azure subscription ID (get with: az account show --query id -o tsv)
# Leave empty to use your default subscription
AZURE_SUBSCRIPTION_ID="your-subscription-id"

# =============================================================================
# AZURE CONTAINER REGISTRY CONFIGURATION
# =============================================================================

# Name of your Azure Container Registry (must be globally unique)
# Only alphanumeric characters, 5-50 characters long
ACR_NAME="youracr"

# Full login server URL for your ACR (automatically constructed from ACR_NAME)
ACR_LOGIN_SERVER="youracr.azurecr.io"

# =============================================================================
# CUSTOM PROVIDER CONFIGURATION
# =============================================================================

# Name for your Custom Provider instance (must be unique within resource group)
# Will be used as part of the Azure resource name
CUSTOM_PROVIDER_NAME="cyberark-custom-provider" ## Default: cyberark-custom-provider

# Container image name and tag for your custom provider
# This will be built and pushed to ACR during deployment
CONTAINER_IMAGE_NAME="cyberark-custom-provider" ## Default: cyberark-custom-provider
CONTAINER_IMAGE="TBD"

# Container Apps Environment name (will be created automatically)
# Used to group multiple container apps together
CONTAINER_APPS_ENVIRONMENT="${ENVIRONMENT}-env"

# =============================================================================
# CYBERARK PRIVILEGED CLOUD CONFIGURATION
# =============================================================================

# CyberArk Identity tenant URL
# Format: https://your-tenant-subdomain.id.cyberark.cloud
# Find this in your CyberArk Identity admin console
CYBERARK_ID_TENANT_URL="https://your-tenant.id.cyberark.cloud"

# CyberArk Privileged Cloud URL
# Format: https://your-tenant-subdomain.privilegecloud.cyberark.cloud
# Find this in your Privileged Cloud admin console
CYBERARK_PCLOUD_URL="https://your-tenant.privilegecloud.cyberark.cloud"

# CyberArk PAM user credentials
# This user must have permissions to create safes and manage accounts
# Format: username@cyberark.cloud.your-tenant-id
CYBERARK_PAM_USER="your-pam-user@cyberark.cloud.tenant"

# CyberArk PAM user password
# SECURITY NOTE: Consider using Azure Key Vault for production deployments
CYBERARK_PAM_PASSWORD="your-secure-password"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Port for the custom provider to listen on (default: 8080)
APP_PORT="8080"

# Log level for the application
# Options: DEBUG, INFO, WARN, ERROR
LOG_LEVEL="INFO"

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Local development settings - only used when running locally
LOCAL_CONTAINER_NAME="cyberark-local-test"
LOCAL_PORT="8080"

# Debug mode for development (enables verbose logging)
DEBUG_MODE="false"

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Maximum number of container replicas for scaling
MAX_REPLICAS="10"

# Minimum number of container replicas
MIN_REPLICAS="1"

# CPU allocation for container instances (in cores)
CPU_ALLOCATION="0.25"

# Memory allocation for container instances (in GB)
MEMORY_ALLOCATION="0.5Gi"

# Container Apps ingress configuration
INGRESS_EXTERNAL="true"
INGRESS_TARGET_PORT="8080"

# =============================================================================
# EXAMPLE SAFE CONFIGURATION (for testing)
# =============================================================================

# Example safe name for testing purposes
SAFE_NAME="test-safe"

# Example safe description
SAFE_DESCRIPTION="Test safe created via Azure Custom Provider"

# =============================================================================
# EXAMPLE VALUES (for reference)
# =============================================================================
#
# Here are some example configurations to help you get started:
#
# EXAMPLE FOR DEVELOPMENT:
# LOCATION="eastus"
# RESOURCE_GROUP="cyberark-dev-rg"
# ENVIRONMENT="dev"
# PROJECT_NAME="cyberarkcp"
# ACR_NAME="cyberarkdevcr"
# CUSTOM_PROVIDER_NAME="cyberark-dev-provider"
# CYBERARK_ID_TENANT_URL="https://abc123.id.cyberark.cloud"
# CYBERARK_PCLOUD_URL="https://abc123.privilegecloud.cyberark.cloud"
# CYBERARK_PAM_USER="admin@cyberark.cloud.abc123"
#
# EXAMPLE FOR PRODUCTION:
# LOCATION="eastus2"
# RESOURCE_GROUP="cyberark-prod-rg"
# ENVIRONMENT="prod"
# PROJECT_NAME="cyberarkcp"
# ACR_NAME="cyberarkprodacr"
# CUSTOM_PROVIDER_NAME="cyberark-prod-provider"
# MIN_REPLICAS="2"
# MAX_REPLICAS="20"
# CPU_ALLOCATION="0.5"
# MEMORY_ALLOCATION="1Gi"
#
# =============================================================================
